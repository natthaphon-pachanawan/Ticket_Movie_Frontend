<h2 class="text-xl font-semibold mb-4">ЁЯз╛ р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Бр╕▓р╕гр╕Ир╕нр╕Зр╕Вр╕нр╕Зр╕Др╕╕р╕У</h2>

<div *ngIf="bookings.length === 0" class="text-gray-500">тАУ р╣Др╕бр╣Ир╕бр╕╡р╕гр╕▓р╕вр╕Бр╕▓р╕г тАУ</div>

<div *ngFor="let b of bookings" class="booking-card p-4 mb-3 border rounded">
  <p><strong>р╕лр╕Щр╕▒р╕З:</strong> {{ b.screening.movie.title }}</p>
  <p><strong>р╣Ар╕зр╕ер╕▓:</strong> {{ b.screening.screening_datetime | date:'medium' }}</p>
  <p><strong>р╕Ир╕│р╕Щр╕зр╕Щр╕Чр╕╡р╣Ир╕Щр╕▒р╣Ир╕З:</strong> {{ b.tickets?.length ?? 0 }}</p>
  <p><strong>р╕гр╕▓р╕Др╕▓р╕гр╕зр╕б:</strong> {{ b.total_price }} р╕Ър╕▓р╕Ч</p>
  <p><strong>р╕кр╕Цр╕▓р╕Щр╕░:</strong> {{ b.display_status }}</p>

  <!-- р╕Ыр╕╕р╣Ир╕бр╕вр╕Бр╣Ар╕ер╕┤р╕Б (р╣Ар╕Йр╕Юр╕▓р╕░ active р╣Др╕бр╣Ир╕бр╕╡ slip р╕лр╕гр╕╖р╕н pending) -->
  <button *ngIf="b.status === 'active' && (!b.slip || b.slip.payment_status === 'rejected')" (click)="cancel(b)"
    class="mt-2 text-red-600">
    р╕вр╕Бр╣Ар╕ер╕┤р╕Б
  </button>


  <!-- р╕Ыр╕╕р╣Ир╕бр╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ -->
  <button *ngIf="b.can_pay" (click)="goPay(b.id)" class="mt-2 px-3 py-1 bg-blue-500 text-white rounded">
    ЁЯТ│ р╕Кр╕│р╕гр╕░р╣Ар╕Зр╕┤р╕Щ
  </button>

  <!-- р╕Ыр╕╕р╣Ир╕бр╕Фр╕╣/р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╕кр╕ер╕┤р╕Ы (р╕Цр╣Йр╕▓р╕Бр╕Ф pay р╣Бр╕ер╣Йр╕зр╣Др╕Ыр╕лр╕Щр╣Йр╕▓ payment, upload-slip)
  <a *ngIf="b.status==='active' && b.slip && b.slip.payment_status==='rejected'"
     [routerLink]="['/upload-slip']"
     [queryParams]="{ booking_id: b.id }"
     class="mt-2 ml-2 px-3 py-1 bg-yellow-500 text-white rounded">
    ЁЯУд р╣Бр╕Щр╕Ър╕кр╕ер╕┤р╕Ыр╣Гр╕лр╕бр╣И
  </a> -->

  <!-- р╕Ыр╕╕р╣Ир╕бр╕Фр╕╣р╕Хр╕▒р╣Лр╕з -->
  <button *ngIf="b.can_view_ticket" (click)="goTickets()" class="mt-2 ml-2 px-3 py-1 bg-green-500 text-white rounded">
    ЁЯОЯя╕П р╕Фр╕╣р╕Хр╕▒р╣Лр╕з
  </button>
</div>